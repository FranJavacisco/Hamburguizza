"use strict";function _classCallCheck(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function _createClass(a,t,e){return t&&_defineProperties(a.prototype,t),e&&_defineProperties(a,e),a}var ProductLoader=function(){function a(){_classCallCheck(this,a),this.products={pizzas:[{id:"p1",name:"Pizza Margherita",description:"Salsa de tomate, mozzarella fresca, albahaca y aceite de oliva extra virgen",price:12.99,image:"/api/placeholder/250/200",category:"pizzas",tags:["vegetariana","clásica"],rating:4.8,reviews:128,badges:["Popular"],isSpicy:!1,isVegetarian:!0},{id:"p2",name:"Pizza Pepperoni",description:"Salsa de tomate, mozzarella, pepperoni premium y orégano",price:14.99,image:"/api/placeholder/250/200",category:"pizzas",tags:["clásica","picante"],rating:4.6,reviews:96,badges:["Bestseller"],isSpicy:!0,isVegetarian:!1},{id:"p3",name:"Pizza 4 Quesos",description:"Mozzarella, gorgonzola, parmesano y queso de cabra",price:15.99,image:"/api/placeholder/250/200",category:"pizzas",tags:["premium","vegetariana"],rating:4.7,reviews:156,badges:["Premium"],isSpicy:!1,isVegetarian:!0},{id:"p4",name:"Pizza Vegetariana",description:"Pimientos, champiñones, aceitunas, cebolla y tomate",price:13.99,image:"/api/placeholder/250/200",category:"pizzas",tags:["vegetariana","saludable"],rating:4.5,reviews:92,badges:["Veggie"],isSpicy:!1,isVegetarian:!0}],burgers:[]},this.init()}return _createClass(a,[{key:"init",value:function(){this.loadProducts("pizzas","pizzasGrid"),this.loadProducts("burgers","burgersGrid")}},{key:"loadProducts",value:function(a,t){var e=this,n=document.getElementById(t);if(n){var i=this.products[a];n.innerHTML=i.map(function(a){return e.createProductCard(a)}).join(""),this.initializeProductEvents()}}},{key:"createProductCard",value:function(a){return'\n            <div class="product-card" data-id="'.concat(a.id,'" data-category="').concat(a.category,'">\n                ').concat(this.createBadges(a.badges),'\n                <img src="').concat(a.image,'" alt="').concat(a.name,'" class="product-image">\n                <div class="product-info">\n                    <h3>').concat(a.name,'</h3>\n                    <div class="product-tags">\n                        ').concat(this.createTags(a.tags),"\n                    </div>\n                    <p>").concat(a.description,'</p>\n                    <div class="product-meta">\n                        ').concat(this.createRating(a.rating,a.reviews),'\n                        <div class="price">$').concat(a.price.toFixed(2),'</div>\n                    </div>\n                    <button class="add-to-cart" data-product-id="').concat(a.id,'">\n                        Agregar al Carrito\n                    </button>\n                </div>\n            </div>\n        ')}},{key:"createBadges",value:function(a){return a&&a.length?a.map(function(a){return'\n            <div class="badge '.concat(a.toLowerCase(),'">').concat(a,"</div>\n        ")}).join(""):""}},{key:"createTags",value:function(a){return a&&a.length?a.map(function(a){return'\n            <span class="tag '.concat(a.toLowerCase(),'">').concat(a,"</span>\n        ")}).join(""):""}},{key:"createRating",value:function(a,t){var e="⭐".repeat(Math.floor(a));return'\n            <div class="rating" data-rating="'.concat(a,'">\n                <div class="stars">').concat(e,'</div>\n                <span class="rating-count">(').concat(t,")</span>\n            </div>\n        ")}},{key:"initializeProductEvents",value:function(){var e=this;document.querySelectorAll(".add-to-cart").forEach(function(a){a.addEventListener("click",function(a){var t=a.target.dataset.productId;e.handleAddToCart(t)})}),document.querySelectorAll(".product-image").forEach(function(a){a.addEventListener("click",function(a){var t=a.target.closest(".product-card").dataset.id;e.showProductDetail(t)})})}},{key:"handleAddToCart",value:function(a){var t=this.findProduct(a);t&&"undefined"!=typeof cart&&(cart.addItem(t),this.showNotification("".concat(t.name," agregado al carrito")))}},{key:"findProduct",value:function(t){for(var a in this.products){var e=this.products[a].find(function(a){return a.id===t});if(e)return e}return null}},{key:"showProductDetail",value:function(a){var t=this,e=this.findProduct(a);if(e){var n=document.createElement("div");n.className="product-modal",n.innerHTML='\n            <div class="product-modal-content">\n                <button class="close-modal">✕</button>\n                <div class="product-detail">\n                    <img src="'.concat(e.image,'" alt="').concat(e.name,'">\n                    <div class="product-info">\n                        <h2>').concat(e.name,"</h2>\n                        <p>").concat(e.description,'</p>\n                        <div class="product-tags">\n                            ').concat(this.createTags(e.tags),'\n                        </div>\n                        <div class="product-meta">\n                            ').concat(this.createRating(e.rating,e.reviews),'\n                            <div class="price">$').concat(e.price.toFixed(2),'</div>\n                        </div>\n                        <button class="add-to-cart" data-product-id="').concat(e.id,'">\n                            Agregar al Carrito\n                        </button>\n                    </div>\n                </div>\n            </div>\n        '),document.body.appendChild(n),setTimeout(function(){return n.classList.add("active")},100),n.querySelector(".close-modal").addEventListener("click",function(){n.classList.remove("active"),setTimeout(function(){return n.remove()},300)}),n.querySelector(".add-to-cart").addEventListener("click",function(){t.handleAddToCart(e.id)})}}},{key:"showNotification",value:function(a){var t=document.createElement("div");t.className="product-notification",t.textContent=a,document.body.appendChild(t),setTimeout(function(){return t.classList.add("show")},100),setTimeout(function(){t.classList.remove("show"),setTimeout(function(){return t.remove()},300)},3e3)}}]),a}();document.addEventListener("DOMContentLoaded",function(){new ProductLoader});
//# sourceMappingURL=productos.min.js.map
